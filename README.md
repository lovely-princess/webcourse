# структура базы данных
![Alt text](img/bd_scheme.png?raw=true "bd_scheme")

в таблице stations_in_routes поле number_in_route это поле номера остановки в соответствующем маршруте (впоследствие можно будет восстановить остановки, проеханные между начальной и конечной)

в таблице users_in_trips поле number_of_tickets хранит количество билетов приобретенных пользователем на конкретный рейс

в таблице users хранятся айди пользователя, контактная информация и имя

в таблице schedule хранятся айди рейса, айди маршрута по которому он едет, дата и время отправления и количество мест

# схема перехода между страницами
![Alt text](img/pages_scheme.png?raw=true "pages_scheme")
## описание страниц
##### 1. страницы авторизации и регистрации
на страницах помимо полей ввода регистрационных данных есть только кнопка переключения между ними
- после введения данных пользователь попадает на домашнюю страницу. 
- можно переходить между страницами регистрации и авторизации.
##### 2. домашняя страница пользователя
![Alt text](img/home_page.png?raw=true "home_page")
- если пользователь помечен в системе как админимтратор то есть возможность перейти в админский режим (админская домашняя страница)
- есть переход в страницу истории заказов
- на домашней странице можно посмотреть стоимость билетов для любой пары начальной и конечной остановок на любом рейсе, если такие есть: после выбора начальной и конечной остановки появляется список рейсов с датой, временем отправления, стоимостью билета и количеством свободных мест. этот список будет представлен в виде таблицы, выбрав в ней строку мы выбираем рейс. начальную и конечную остановку выбираем поиском в списке, для этого будут два поля, оформленные в виде `dropdown menu` a.k.a. `combo box` 
- также можно забронировать один или несколько билетов при условии их наличия в рейсе. после выбора рейса становится доступна к редактированию форма, в которой можно выбрать количество билетов и нажать кнопку `забронировать`
##### 3. история заказов
![Alt text](img/user_history_page.png?raw=true "user_history_page")
- на этой странице можно посмотреть на каких рейсах пользователь ездил
- есть кнопка возвращения на домашнюю страницу
- если пользователь - админ то можно перейти на домашнюю страницу админа
##### 4. домашняя страница администратора
![Alt text](img/admin_home_page.png?raw=true "admin_home_page")
- тут собраны все действия по изменению любой информации пользователей, добавлении/удалении рейсов, остановок и тд. все это оформлено в виде списков, представленных таблицами, поля в которых доступны для редактирования и есть кнопка `добавить строку`, при нажатии на которую добавляется пустая строка, которую админ может редактировать, как и все остальные. у строк есть кнопка `удалить`, удаляющая строку. в таблице маршрутов перечислены последовательно остановки, состав и порядок которых можно редактировать вручную (на картинке этот список повторен дважды, но планируется только один)
- есть переход в историю заказов, домашнюю страницу пользователя и информацию и конкретном рейсе
##### 5. страница информации о рейсе
![Alt text](img/admin_flight_info_page.png?raw=true "admin_flight_info_page")
- содержит информацию о рейсе

## сценарии использования
этап авторизации пропустим, так что пользовательн по умолчанию начинает в домашней странице
#### 1. заказ билетов на рейс
- пользователь выбирает начальную и конечную остановки
- из появившейся таблицы с датами-временем и количеством мест на рейсе пользователь выбирает рейс на который хочет зарегистрироваться
-в форме, которая до выбора рейса была неактивной пользователь выбирает количество нужных билетов и нажимает кнопку оформления билетов (при посадке на рейс он оплачивает проезд тем, кто поедет по оформленным билетам, то есть пользователь не обязательно должен ехать сам)
#### 2. просмотр истории заказов
- пользователь нажимает на кнопку "история" и переходит на страницу истории своих заказов где может смотреть какие билеты он когда-либо оформлял
#### 3. админский просмотр истории
- пользователь-администратор переходит на страницу истории из домашней страницы или из админской домашней страницы
- по одному из полей пользователь сортирует/фильтрует данные, которые хочет увидеть и смотрит
#### 4. админский просмотр информации о рейсе
- пользователь из домашней админской страницы переходит на страницу информации о рейсе где по каким то полям фильтрует/сортирует все рейсы
- после выбора рейса ему отображается информация о рейсе: кто на нем ехал, по какому маршруту и тп
#### 5. админские действия по изменению данных
- пользователь на домашней странице админа может просматривать и изменять информацию пользователей в специальном форме, где сначала можно найти пользователя а потом открыть на просмотр/редактирование его профиль
- также там можно добавлять рейсы, маршруты или же менять о них информацию аналогично информации о пользователе
